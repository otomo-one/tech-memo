

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nginx &mdash; tech-memo 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="tech-memo 0.0.1 documentation" href="../index.html" />
    <link rel="up" title="Webサーバ" href="web_server.html" />
    <link rel="prev" title="Webサーバ" href="web_server.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="web_server.html" title="Webサーバ"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">tech-memo 0.0.1 documentation</a> &raquo;</li>
          <li><a href="web_server.html" accesskey="U">Webサーバ</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="nginx">
<h1>nginx<a class="headerlink" href="#nginx" title="Permalink to this headline">¶</a></h1>
<div class="section" id="id1">
<h2>概要<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>HTTP、リバースプロキシ、メールプロキシサーバソフトウェア。
非同期でイベント駆動なリクエスト処理といったらnginxと思っていたら
Apache 2.4.1(2012年2月)でも似たようなアーキテクチャが選択できるようになっていたらしい。</p>
</div>
<div class="section" id="id2">
<h2>インストール<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Ubuntu 12.04 LTSの環境にインストールしてみる。</p>
<div class="highlight-python"><pre>sudo apt-get install nginx</pre>
</div>
<p>バージョン</p>
<div class="highlight-python"><pre>$ nginx -v
nginx version: nginx/1.1.19</pre>
</div>
</div>
<div class="section" id="id3">
<h2>設定ファイル<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>/etc/nginx/に設定ファイルnginx.confが置かれている。
詳しくは <a class="reference external" href="http://heartbeats.jp/hbblog/2012/02/nginx03.html">nginx連載3回目: nginxの設定、その1</a> 参照。
デフォルト設定ファイルを参考に設定ファイルを作ってみた。</p>
<p>設定例</p>
<div class="highlight-python"><pre>$ cat /etc/nginx/nginx.conf
user www-data;
worker_processes 4;
pid /var/run/nginx.pid;

events {
    worker_connections 768;
}

http {
    sendfile on;
    tcp_nopush on;
    tcp_nodelay on;
    keepalive_timeout 65;
    types_hash_max_size 2048;

    include /etc/nginx/mime.types;
    default_type application/octet-stream;

    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;

    gzip on;
    gzip_disable "msie6";

    include /etc/nginx/conf.d/*.conf;
}</pre>
</div>
</div>
<div class="section" id="id4">
<h2>バーチャルサーバの設定<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<p>前述の</p>
<div class="highlight-python"><pre>/etc/nginx/conf.d/*.conf;</pre>
</div>
<p>はバーチャルサーバの設定を読み込んでいる。
詳しくは <a class="reference external" href="http://heartbeats.jp/hbblog/2012/04/nginx04.html">nginx連載4回目: nginxの設定、その2 - バーチャルサーバの設定</a> 参照。
default.confという名前で設定ファイルを作ってみた。</p>
<p>設定例</p>
<div class="highlight-python"><pre>$ cat /etc/nginx/conf.d/default.conf
server{
    listen          80;
    server_name     localhost;

    location / {
            root /home/otomo/www/test/html;
            index index.html;
    }
}</pre>
</div>
</div>
<div class="section" id="id5">
<h2>プロセスの起動<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>上記設定を行うととりあえずは動くので起動してみる。</p>
<p>起動</p>
<div class="highlight-python"><pre>$ sudo /etc/init.d/nginx start</pre>
</div>
<p>再起動</p>
<div class="highlight-python"><pre>$ sudo /etc/init.d/nginx restart</pre>
</div>
<p>設定ファイル読み込み</p>
<div class="highlight-python"><pre>$ sudo /etc/init.d/nginx reload</pre>
</div>
<p>停止</p>
<div class="highlight-python"><pre>$ sudo /etc/init.d/nginx stop</pre>
</div>
<p>ブラウザを起動してlocalhostへアクセスすれば/home/otomo/www/test/html/index.htmlが表示される。</p>
</div>
<div class="section" id="id6">
<h2>参考文献<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="http://nginx.org/ja/">http://nginx.org/ja/</a></li>
<li><a class="reference external" href="http://heartbeats.jp/hbblog/2012/02/nginx03.html">nginx連載3回目: nginxの設定、その1</a></li>
<li><a class="reference external" href="http://heartbeats.jp/hbblog/2012/04/nginx04.html">nginx連載4回目: nginxの設定、その2 - バーチャルサーバの設定</a></li>
</ul>
</div></blockquote>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">nginx</a><ul>
<li><a class="reference internal" href="#id1">概要</a></li>
<li><a class="reference internal" href="#id2">インストール</a></li>
<li><a class="reference internal" href="#id3">設定ファイル</a></li>
<li><a class="reference internal" href="#id4">バーチャルサーバの設定</a></li>
<li><a class="reference internal" href="#id5">プロセスの起動</a></li>
<li><a class="reference internal" href="#id6">参考文献</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="web_server.html"
                        title="previous chapter">Webサーバ</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/server/nginx.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="web_server.html" title="Webサーバ"
             >previous</a> |</li>
        <li><a href="../index.html">tech-memo 0.0.1 documentation</a> &raquo;</li>
          <li><a href="web_server.html" >Webサーバ</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, otomo.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>